



    <script type="text/javascript">

        let isDameSelection;
        let dameId;
        let sireId;

        function launchDameSelectionModel(){
            isDameSelection = true;
            //launch dialog
            $('#parentSelectionModal').modal('show')
        }

        function launchSireSelectionModel(){
            isDameSelection = false;
            //launch dialog
            $('#parentSelectionModal').modal('show')
            
        }

        function selectParent(tokenId){
            console.log(isDameSelection, tokenId) 
            $('#parentSelectionModal').modal('hide')
            //transfer square to 
            if(isDameSelection == true ){
                $('#dameDiv').html(tokenId)

                let kitty = ownedKitties.filter(k => k.tokenId == tokenId)[0]
                
                addCatTemplateToRow("dameDiv", kitty.tokenId);


            }else if(isDameSelection == false){
                $('#sireDiv').html(tokenId)

                let kitty = ownedKitties.filter(k => k.tokenId == tokenId)[0]
                
                addCatTemplateToRow("sireDiv", kitty.tokenId);
            }
            
        }
        
        $(document).ready(function(){
            
            for(var i =0 ; i < ownedKitties.length; i++){
                
                addCatTemplateToRow("catsRow", ownedKitties[i].tokenId);
                
                let headColor = parseInt(ownedKitties[i].genes.substring(0,2))
                let mouth = parseInt(ownedKitties[i].genes.substring(2,4))
                let ears = parseInt(ownedKitties[i].genes.substring(4, 6))
                let tail = parseInt(ownedKitties[i].genes.substring(6,8))
                let shape = parseInt(ownedKitties[i].genes.substring(8,9))
                let decoration = parseInt(ownedKitties[i].genes.substring(9, 10))
                let decorationMid = parseInt(ownedKitties[i].genes.substring(10, 12))
                let dnadecorationSides = parseInt(ownedKitties[i].genes.substring(12, 14))
                let dnaanimation = parseInt(ownedKitties[i].genes.substring(14, 15))

                renderCat({
                    "headColor" : headColor,
                    "mouthColor" : mouth,
                    "earsColor" : ears,
                    "tailColor" : tail,
                    "eyesShape" : shape,
                    "decorationPattern" : decoration,
                    "decorationMidcolor" :  decorationMid,
                    "decorationSidescolor" :  dnadecorationSides,
                    "animation" :   dnaanimation,
                    "lastNum" :  1
                    }, ownedKitties[i].tokenId, ownedKitties[i].generation)

               
     
                $(`#catBox${ownedKitties[i].tokenId}`).click({tokenId: ownedKitties[i].tokenId}, function(e){
                    console.log(e.data.tokenId)
                    selectParent(e.data.tokenId)

                });
     
                    
            }    

        })
    </script>




    <div class="jumbotron">

        <p class="lead">Breed a Kitty</p>
        <hr class="my-4">

    </div>

    <div class="container p-5" style="margin-top: 12vh;margin-bottom: 10vh;">

        <div class="row">
            
            <div class="col-lg-4">
                <a href="javascript:launchDameSelectionModel()" class="btn btn-primary btn-lg active" role="button" aria-pressed="true">Select Dame</a>
            </div>

            <div class="col-lg-4">
                <a href="javascript:launchSireSelectionModel()" class="btn btn-primary btn-lg active" role="button" aria-pressed="true">Select Sire</a>
            </div>

        </div>

        <div class="row">
            
            <div id="dameDiv">

            </div>            

            <div id="sireDiv">

            </div>            

        </div>


        




    </div>

    <!-- Modal -->
    <div class="modal fade" id="parentSelectionModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-xl modal-dialog-scrollable" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalCenterTitle">Modal title</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
                

                <div class="container p-5" style="margin-top: 12vh;margin-bottom: 10vh;">

                    <div class="row" id="catsRow">
                    
            
                    </div>
            
            
                </div>


            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
              <button type="button" class="btn btn-primary">Save changes</button>
            </div>
          </div>
        </div>
      </div>


    